<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - SIGE</title>
</head>
<body>
    <div class="login-container">
        <!-- Header -->
        <header class="login-header">
            <div class="logo">
                <h1>SIGE</h1>
                <p>Sistema Integrado de Gestão Escolar</p>
            </div>
            <nav class="nav-links">
                <a routerLink="/" class="nav-link">Início</a>
                <a href="#" class="nav-link">Ajuda</a>
            </nav>
        </header>

        <!-- Main Login Content -->
        <main class="main-content">
            <div class="login-wrapper">
                <!-- Login Card -->
                <div class="login-card">
                    <div class="login-header-card">
                        <h2>Fazer Login</h2>
                        <p>Acesse sua conta no SIGE</p>
                    </div>

                    <form class="login-form" (ngSubmit)="realizarLogin()" #loginForm="ngForm">
                        <div class="form-group">
                            <label for="email">Email ou Usuário</label>
                            <input 
                                type="text" 
                                id="email" 
                                name="email"
                                [(ngModel)]="loginData.email"
                                placeholder="Digite seu email ou usuário"
                                required
                                #emailInput="ngModel"
                                [class.invalid]="emailInput.invalid && emailInput.touched">
                            <div class="error-message" *ngIf="emailInput.invalid && emailInput.touched">
                                Email ou usuário é obrigatório
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="password">Senha</label>
                            <div class="password-input-container">
                                <input 
                                    [type]="mostrarSenha ? 'text' : 'password'" 
                                    id="password" 
                                    name="password"
                                    [(ngModel)]="loginData.password"
                                    placeholder="Digite sua senha"
                                    required
                                    #passwordInput="ngModel"
                                    [class.invalid]="passwordInput.invalid && passwordInput.touched">
                                <button 
                                    type="button" 
                                    class="toggle-password"
                                    (click)="toggleMostrarSenha()">
                                    <i [class]="mostrarSenha ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
                                </button>
                            </div>
                            <div class="error-message" *ngIf="passwordInput.invalid && passwordInput.touched">
                                Senha é obrigatória
                            </div>
                        </div>

                        <div class="form-options">
                            <label class="checkbox-container">
                                <input 
                                    type="checkbox" 
                                    name="lembrarMe"
                                    [(ngModel)]="loginData.lembrarMe">
                                <span class="checkmark"></span>
                                Lembrar-me
                            </label>
                            <a href="#" class="forgot-password" (click)="esqueceuSenha($event)">
                                Esqueceu a senha?
                            </a>
                        </div>

                        <div class="form-actions">
                            <button 
                                type="submit" 
                                class="btn btn-primary btn-login"
                                [disabled]="loginForm.invalid || carregando">
                                <span *ngIf="carregando" class="spinner"></span>
                                {{ carregando ? 'Entrando...' : 'Entrar' }}
                            </button>
                        </div>

                        <!-- Error Message -->
                        <div *ngIf="mensagemErro" class="alert alert-error">
                            <i class="fas fa-exclamation-triangle"></i>
                            {{ mensagemErro }}
                        </div>

                        <!-- Success Message -->
                        <div *ngIf="mensagemSucesso" class="alert alert-success">
                            <i class="fas fa-check-circle"></i>
                            {{ mensagemSucesso }}
                        </div>
                    </form>

                    <div class="login-footer">
                        <p>Não tem uma conta?</p>
                        <a href="#" class="create-account-link" (click)="criarConta($event)">
                            Criar nova conta
                        </a>
                    </div>
                </div>

                <!-- Info Panel -->
                <div class="info-panel">
                    <div class="info-content">
                        <h3>Bem-vindo ao SIGE</h3>
                        <p>
                            O Sistema Integrado de Gestão Escolar oferece acesso completo 
                            para gerenciar sua instituição de ensino.
                        </p>
                        
                        <div class="features-list">
                            <div class="feature-item">
                                <i class="fas fa-users"></i>
                                <span>Gestão de Alunos e Professores</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-clipboard-check"></i>
                                <span>Controle de Presenças e Notas</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-chart-bar"></i>
                                <span>Relatórios Detalhados</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-mobile-alt"></i>
                                <span>Acesso Mobile</span>
                            </div>
                        </div>

                        <div class="contact-info">
                            <h4>Precisa de Ajuda?</h4>
                            <p>Entre em contato conosco:</p>
                            <div class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <a href="mailto:suporte@sige.edu.br">suporte@sige.edu.br</a>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-phone"></i>
                                <a href="tel:11999999999">(11) 9999-9999</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="login-footer-page">
            <div class="footer-content">
                <p>&copy; 2024 SIGE - Sistema Integrado de Gestão Escolar. Todos os direitos reservados.</p>
                <div class="footer-links">
                    <a href="#">Política de Privacidade</a>
                    <a href="#">Termos de Uso</a>
                    <a href="#">Suporte</a>
                </div>
            </div>
        </footer>
    </div>
</body>
</html>
